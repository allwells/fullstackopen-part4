{"version":3,"sources":["components/Filter.js","components/Blogs.js","components/BlogForm.js","services/service.js","components/Notification.js","App.js","index.js"],"names":["Filter","newFilter","filterChange","value","onChange","placeholder","Blogs","filterBlog","deleteBlog","map","blog","i","title","author","url","likes","onClick","id","BlogForm","addBlog","newTitle","newAuthor","newURL","newLikes","titleChange","authorChange","urlChange","likesChange","onSubmit","type","URL","axios","get","then","res","data","blogObject","post","put","delete","Notification","message","messageType","className","App","useState","blogs","setBlogs","setTitle","setAuthor","setUrl","setLikes","setNewFilter","setMessage","setMessageType","useEffect","service","response","filterBlogs","filter","toLowerCase","includes","event","target","preventDefault","bloglist","find","window","confirm","catch","err","console","log","trim","error","setTimeout","titles","status","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7ee5398b.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ newFilter, filterChange }) => {\n  return (\n    <div>\n      <input\n        value={newFilter}\n        onChange={filterChange}\n        placeholder=\"Search blog by authors\"\n      />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Blogs = ({ filterBlog, deleteBlog }) => {\n  return (\n    <div>\n      {filterBlog.map((blog, i) => (\n        <div key={i}>\n          <h3>{blog.title}</h3>\n          <p>\n            Author: <i>{blog.author}</i>\n          </p>\n          <p>URL: {blog.url}</p>\n          <p>Likes: {blog.likes}</p>\n          <button onClick={() => deleteBlog(blog.id, blog.title)}>\n            Delete Blog\n          </button>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Blogs;\n","import React from \"react\";\n\nconst BlogForm = ({\n  addBlog,\n  newTitle,\n  newAuthor,\n  newURL,\n  newLikes,\n  titleChange,\n  authorChange,\n  urlChange,\n  likesChange,\n}) => {\n  return (\n    <div>\n      <form onSubmit={addBlog}>\n        <div>\n          <input\n            value={newTitle}\n            onChange={titleChange}\n            placeholder=\"Blog title\"\n          />\n        </div>\n        <div>\n          <input\n            value={newAuthor}\n            onChange={authorChange}\n            placeholder=\"Author\"\n          />\n        </div>\n        <div>\n          <input value={newURL} onChange={urlChange} placeholder=\"Url\" />\n        </div>\n        <div>\n          <input value={newLikes} onChange={likesChange} placeholder=\"Likes\" />\n        </div>\n        <div>\n          <button type=\"submit\">Add Blog</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default BlogForm;\n","import axios from \"axios\";\n\nconst URL = \"/api/blogs\";\n\nconst getAll = () => {\n  const req = axios.get(URL);\n  return req.then((res) => res.data);\n};\n\nconst create = (blogObject) => {\n  const req = axios.post(URL, blogObject);\n  return req.then((res) => res.data);\n};\n\nconst update = (id, blogObject) => {\n  const req = axios.put(`${URL}/${id}`, blogObject);\n  return req.then((res) => res.data);\n};\n\nconst remove = (id) => {\n  const req = axios.delete(`${URL}/${id}`);\n  return req.then((res) => res);\n};\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { getAll, create, update, remove };\n","import React from \"react\";\n\nconst Notification = ({ message, messageType }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className={messageType}>{message}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Blogs from \"./components/Blogs\";\nimport BlogForm from \"./components/BlogForm\";\nimport service from \"./services/service\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([]);\n  const [title, setTitle] = useState(\"\");\n  const [author, setAuthor] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  const [likes, setLikes] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [messageType, setMessageType] = useState(\"\");\n\n  useEffect(() => {\n    service.getAll().then((response) => {\n      setBlogs(response);\n    });\n  }, []);\n\n  const titleChange = (event) => {\n    setTitle(event.target.value);\n  };\n  const authorChange = (event) => {\n    setAuthor(event.target.value);\n  };\n  const urlChange = (event) => {\n    setUrl(event.target.value);\n  };\n  const likesChange = (event) => {\n    setLikes(event.target.value);\n  };\n\n  const filterChange = (event) => {\n    setNewFilter(event.target.value);\n  };\n\n  const filterBlogs = blogs\n    ? blogs.filter((blog) =>\n        blog.author.toLowerCase().includes(newFilter.toLowerCase())\n      )\n    : [];\n\n  const deleteBlogs = (id, titles) => {\n    window.confirm(`Delete ${titles}?`)\n      ? service\n          .remove(id)\n          .then((response) => {\n            if (response.status === 200) {\n              setBlogs(blogs.filter((blog) => blog.id !== id));\n              setTitle(\"\");\n              setAuthor(\"\");\n              setUrl(\"\");\n              setLikes(\"\");\n              setMessageType(\"success\");\n              setMessage(`Deleted ${titles}`);\n              setTimeout(() => {\n                setMessage(null);\n              }, 5000);\n            }\n          })\n          .catch((error) => {\n            setMessageType(\"error\");\n            setMessage(\n              `Information of ${titles} has already been removed from server!`\n            );\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n            setBlogs(blogs.filter((blog) => blog.id !== id));\n          })\n      : console.log();\n  };\n\n  const AddBlog = (event) => {\n    event.preventDefault();\n    const bloglist = blogs.find(\n      (blog) => blog.title.toLowerCase() === title.toLowerCase()\n    );\n    if (bloglist) {\n      const choice = window.confirm(\n        `${title} is already added to phonebook, replace the old number with a new one?`\n      );\n      if (choice) {\n        service\n          .update(bloglist.id, {\n            title: title,\n            author: author,\n            url: url,\n            likes: likes,\n          })\n          .then((res) => {\n            setBlogs(blogs.map((blog) => (blog.id !== res.id ? blog : res)));\n            setMessageType(\"success\");\n            setMessage(`Changed ${bloglist.title}`);\n          })\n          .catch((err) => console.log(err));\n      }\n    } else {\n      service\n        .create({\n          title: title.trim(),\n          author: author.trim(),\n          url: url.trim(),\n          likes: likes.trim(),\n        })\n        .then((blog) => {\n          setBlogs([...blogs, blog]);\n          setMessageType(\"success\");\n          setMessage(`Added ${blog.title}`);\n        })\n        .catch((err) => {\n          setMessageType(\"error\");\n          setMessage(`${err.response.data.error}`);\n        });\n    }\n    setTitle(\"\");\n    setAuthor(\"\");\n    setUrl(\"\");\n    setLikes(\"\");\n\n    setTimeout(() => {\n      setMessage(null);\n    }, 5000);\n  };\n\n  return (\n    <div>\n      <h1>Blog List</h1>\n      <Notification message={message} messageType={messageType} />\n      <Filter newFilter={newFilter} filterChange={filterChange} />\n      <h2>Add a new blog</h2>\n      <BlogForm\n        addBlog={AddBlog}\n        newTitle={title}\n        newAuthor={author}\n        newURL={url}\n        newLikes={likes}\n        titleChange={titleChange}\n        authorChange={authorChange}\n        urlChange={urlChange}\n        likesChange={likesChange}\n      />\n      <h2>Blogs</h2>\n      <Blogs filterBlog={filterBlogs} deleteBlog={deleteBlogs} />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}